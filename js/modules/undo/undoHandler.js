define("modules/undo/undoHandler",["modules/undo/undoableStack","modules/model/startUndoAction","modules/model/endUndoAction"],function(n,e,d){function o(o,t){function c(d){a=new n(d);var o=new e(r,d);a.addAction(o),o.execute()}function u(){var n=new d(r);a.addAction(n),n.execute(),l.addStack(a)}var a,i=this,r=o,l=t;i.createUndoStack=function(n,e){c(n);for(var d=0;d<e.length;d++)a.addAction(e[d]),e[d].execute();u()}}return o});