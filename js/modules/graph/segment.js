define("modules/graph/segment",["modules/geometry/point","modules/graph/xPoint","modules/graph/graphEdge"],function(t,e,n){function r(e,n,i,o,d,u){var g=this;g.edge=e,g.getEdge=function(){return g.edge},g.pipe=n,g.setPipe=function(t){g.pipe=t},g.getPipe=function(){return g.pipe},g.corridor=i,g.getCorridor=function(){return g.corridor},g.type=o,g.getType=function(){return g.type},g.startPoint=d,g.getStartPoint=function(){return g.startPoint},g.setStartPoint=function(t,e){g.startPoint.moveToXY(t,e)},g.adjustStartPoint=function(t,e){g.startPoint.translate(t,e)},g.endPoint=u,g.getEndPoint=function(){return g.endPoint},g.setEndPoint=function(t,e){g.endPoint.moveToXY(t,e)},g.adjustEndPoint=function(t,e){g.endPoint.translate(t,e)};var a;g.setShortCut=function(t){a=t},g.isShortCut=function(){return a};var s;g.setPipeShift=function(t){s=t},g.getPipeShift=function(){return s};g.isSwappable=function(){return!g.getEdge().isStartSegment(g)&&!g.getEdge().isEndSegment(g)},g.channelIdx=0,g.setChannelIndex=function(t){g.channelIdx=t},g.getChannelIndex=function(){return g.channelIdx},g.getLength=function(){return g.startPoint.x===g.endPoint.x?Math.abs(g.startPoint.y-g.endPoint.y):g.startPoint.y===g.endPoint.y?Math.abs(g.startPoint.x-g.endPoint.x):0},g.getMidPoint=function(){var e=g.endPoint.x-g.startPoint.x,n=g.endPoint.y-g.startPoint.y;return new t(g.startPoint.x+Math.floor(e/2),g.startPoint.y+Math.floor(n/2))},g.getOrder=function(){return g.getEdge().getSegmentOrder(g)},g.getThickness=function(){return g.edge.getThickness()},g.isSiblingWith=function(t){var e=g.edge.getPreviousSegment(g);if(e&&e.equals(t))return!0;var n=g.edge.getNextSegment(g);return!(!n||!n.equals(t))},g.drawGraphics=function(t){t.beginPath(),t.moveTo(g.startPoint.x,g.startPoint.y),t.lineTo(g.endPoint.x,g.endPoint.y),t.stroke()},g.equals=function(t){return!!t&&(t instanceof r&&g.edge.equals(t.getEdge())&&g.startPoint.equals(t.getStartPoint())&&g.endPoint.equals(t.getEndPoint()))},g.print=function(){return"start: "+g.startPoint.showXY()+", end: "+g.endPoint.showXY()+", edge: "+g.edge.getName()+", SF: "+g.edge.getSourceShift()+", TF: "+g.edge.getTargetShift()},g.print0=function(){return g.edge.getName()+": "+g.startPoint.showXY()+" <> "+g.endPoint.showXY()},g.print1=function(){return"start: "+g.startPoint.showXY()+", end: "+g.endPoint.showXY()+", type: "+g.type+", pipe: "+(g.pipe?g.pipe.getOrder():"undef")+", corridor: "+(g.corridor?g.corridor.getOrder():"undef")+", order: "+g.getOrder()+", edge: "+g.edge.getName()},g.print2=function(){return g.edge.getName()+", sgm order: "+g.getOrder()+", chn order: "+g.getChannelIndex()},function(){g.pipe&&g.pipe.registerSegment(g)}()}return r});