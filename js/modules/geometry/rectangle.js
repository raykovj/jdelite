define("modules/geometry/rectangle",["modules/geometry/point","modules/geometry/geomUtils"],function(t,n){function e(i,h,r,u){var o=this;o.x=i,o.y=h,o.width=r,o.height=u,o.showBounds=function(){return"x="+o.x+", y="+o.y+", w="+o.width+", h="+o.height},o.print=function(){return o.constructor.name+": "+o.showBounds()},o.isEmpty=function(){return o.width<=0||o.height<=0},o.getLocation=function(){return new t(o.x,o.y)},o.getRectBounds=function(){return new e(o.x,o.y,o.width,o.height)},o.clone=function(){return new e(o.x,o.y,o.width,o.height)},o.setRectLocation=function(t,n){o.x=t,o.y=n},o.translate=function(t,n){o.x+=t,o.y+=n},o.setWidth=function(t){o.width=t},o.setHeight=function(t){o.height=t},o.setRectSize=function(t,n){o.width=t,o.height=n},o.setRectBounds=function(t,n,e,i){o.x=t,o.y=n,o.width=e,o.height=i},o.hasPointInside=function(t){return!!t&&o.containsXY(t.x,t.y)},o.containsXY=function(t,n){return o.x<t&&o.x+o.width>t&&o.y<n&&o.y+o.height>n},o.isLineIntersecting=function(e,i){var h=new t(o.x,o.y),r=new t(o.x+o.width,o.y),u=new t(o.x,o.y+o.height),c=new t(o.x+o.width,o.y+o.height);return n.areIntersecting(e,i,h,r)||n.areIntersecting(e,i,h,u)||n.areIntersecting(e,i,r,c)||n.areIntersecting(e,i,u,c)},o.intersects=function(t){if(!t)return!1;var n=o.width,e=o.height;if(n<=0||e<=0)return!1;var i=t.width,h=t.height;if(i<=0||h<=0)return!1;var r=o.x,u=o.y,c=t.x,s=t.y;return n+=r,e+=u,i+=c,h+=s,(i<c||i>r)&&(h<s||h>u)&&(n<r||n>c)&&(e<u||e>s)},o.intersection=function(t){if(t){var n=o.x,i=o.y,h=n+o.width,r=i+o.height,u=t.x,c=t.y,s=u+t.width,g=c+t.height;return n<u&&(n=u),i<c&&(i=c),h>s&&(h=s),r>g&&(r=g),h-=n,h=Math.max(h,0),r-=i,r=Math.max(r,0),new e(n,i,h,r)}},o.union=function(t){if(t){var n=o.width,i=o.height,h=t.width,r=t.height;if((h||r)<0)return new e(o.x,o.y,o.width,o.height);var u=o.x,c=o.y;n+=u,i+=c;var s=t.x,g=t.y;return h+=s,r+=g,u>s&&(u=s),c>g&&(c=g),n<h&&(n=h),i<r&&(i=r),n-=u,i-=c,new e(u,c,n,i)}},o.equals=function(t){return!!(t&&t instanceof e)&&(o.x===t.x&&o.y===t.y&&o.width===t.width&&o.height===t.height)}}return e});