define("modules/model/moveNodeToCellUndoableAction",["modules/common/map"],function(e){function t(t,n,o,i){var s=this,m=t,l=n.getNodeObject(),f=o,g=i,u=new e;s.getName=function(){return"["+l.name+"]"},s.execute=function(){m.clearSegmentShiftsToLinks(u.keys()),m.moveNodeToCell(l,g)},s.undo=function(){m.restoreSegmentShiftsToLinks(u),m.moveNodeToCell(l,f)},s.redo=function(){m.clearSegmentShiftsToLinks(u.keys()),m.moveNodeToCell(l,g)},function(){var e,t=n.getAllLinks();for(e=0;e<t.length;e++)t[e].hasSegmentShifts()&&u.put(t[e].getName(),t[e].getSegmentShifts());if(g)for(t=m.getLinksCrossingCell(g),e=0;e<t.length;e++)t[e].hasSegmentShifts()&&u.put(t[e].getName(),t[e].getSegmentShifts())}()}return t});