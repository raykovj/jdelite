define("modules/graph/lane",["modules/graph/corridor","modules/core/jsUtils","modules/graph/graphConstants","modules/graph/nodeCell","modules/graph/graphNode","modules/graph/modelUtils","modules/settings/config"],function(e,t,l,n,i,o,r){function a(t){e.call(this,t);var n=this;n.getType=function(){return e.TYPE.LANE},n.leftLane=!1,n.rightLane=!1,n.setLeftLane=function(e){e&&0===n.order?(n.leftLane=!0,n.rightLane=!1):e||(n.leftLane=!1)},n.isLeftLane=function(){return n.leftLane},n.setRightLane=function(e){e&&n.order>0?(n.rightLane=!0,n.leftLane=!1):e||(n.rightLane=!1)},n.isRightLane=function(){return n.rightLane},n.addCell=function(e){n.containsCell(e)||n.cells.push(e),e.getNode().setLaneNumber(n.order)},n.removeCell=function(e){if(n.containsCell(e)){e.getNode().setLaneNumber(i.LANE_UNDEF);var t=n.cells.indexOf(e);t>=0&&t<n.cells.length&&n.cells.splice(t,1)}},n.getCellAtLevel=function(e){for(var t=0;t<n.cells.length;t++)if(n.cells[t].getLevelNumber()===e)return n.cells[t];return null},n.getNodeAtLevel=function(e){var t=n.getCellAtLevel(e);return t?t.getNode():null},n.adjustSize=function(){var t=0;if(r.getFlowDirection()===l.flow().VERTICAL){var i=Math.max(o.getMaxNodeWidth(n.getNodes()),e.MIN_COR_WIDTH);for(t=0;t<n.cells.length;t++)n.cells[t].adjustWidth(i);var a=Math.max(o.getMaxCellWidth(n.cells),e.MIN_COR_WIDTH);n.setRectSize(a,n.height)}else if(r.getFlowDirection()===l.flow().HORIZONTAL){var s=Math.max(o.getMaxNodeHeight(n.getNodes()),e.MIN_COR_HEIGHT);for(t=0;t<n.cells.length;t++)n.cells[t].adjustHeight(s);var g=Math.max(o.getMaxCellHeight(n.cells),e.MIN_COR_HEIGHT);n.setRectSize(n.width,g)}},n.adjustGlobalSize=function(e){r.getFlowDirection()===l.flow().VERTICAL?n.setRectSize(n.width,e):r.getFlowDirection()===l.flow().HORIZONTAL&&n.setRectSize(e,n.height)},n.getExtent=function(){return r.getFlowDirection()===l.flow().VERTICAL?n.width:r.getFlowDirection()===l.flow().HORIZONTAL?n.height:0},n.print=function(){return n.constructor.name+": "+n.showBounds()+", order="+n.order+", type="+n.getType()}}return t.inherit(a,e),a});