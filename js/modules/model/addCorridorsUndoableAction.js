define("modules/model/addCorridorsUndoableAction",["modules/common/map"],function(e){function n(n,o,t,r){var i=this,s=n,d=o,m=t,f=new e;i.getName=function(){return r},i.execute=function(){s.clearSegmentShiftsToLinks(f.keys()),s.addCorridors(d,m,!0)},i.undo=function(){s.restoreSegmentShiftsToLinks(f),s.removeEmptyCorridors(d,m,!0)},i.redo=function(){s.clearSegmentShiftsToLinks(f.keys()),s.addCorridors(d,m,!0)},function(){for(var e=s.getFlowLinks(),n=0;n<e.length;n++)e[n].hasSegmentShifts()&&f.put(e[n].getName(),e[n].getSegmentShifts())}()}return n});